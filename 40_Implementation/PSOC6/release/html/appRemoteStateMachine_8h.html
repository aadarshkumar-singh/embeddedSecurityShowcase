<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: asw/appRemoteStateMachine.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7f414431442d3d5b66e375f06bbda95e.html">asw</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">appRemoteStateMachine.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;mbed.h&quot;</code><br />
<code>#include &quot;<a class="el" href="CRingBuffer_8h_source.html">CRingBuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="signMgr_8h_source.html">signMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="signVerifyMgr_8h_source.html">signVerifyMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dhKeyExchangeMgrTest_8h_source.html">dhKeyExchangeMgrTest.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="encryptMgrTest_8h_source.html">encryptMgrTest.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="decryptMgrTest_8h_source.html">decryptMgrTest.h</a>&quot;</code><br />
</div>
<p><a href="appRemoteStateMachine_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a761ae82a3f899a71133e901297955c56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a761ae82a3f899a71133e901297955c56">REMOTE_PROTOCOL_SOF</a>&#160;&#160;&#160;'$'</td></tr>
<tr class="separator:a761ae82a3f899a71133e901297955c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654ddd38d143b15c2b8a63d8dbe3c3cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a654ddd38d143b15c2b8a63d8dbe3c3cf">REMOTE_PROTOCOL_EOP1</a>&#160;&#160;&#160;'@'</td></tr>
<tr class="separator:a654ddd38d143b15c2b8a63d8dbe3c3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e853230d004d51a411c2602bf20d5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a66e853230d004d51a411c2602bf20d5a">REMOTE_PROTOCOL_EOP2</a>&#160;&#160;&#160;'#'</td></tr>
<tr class="separator:a66e853230d004d51a411c2602bf20d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efee19584ef05b13cf8a4bb0fec1f64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a4efee19584ef05b13cf8a4bb0fec1f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83d223016105c1e7a969b2d63c92060"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#ab83d223016105c1e7a969b2d63c92060">REMOTE_POS_ACK_BYTE_1</a>&#160;&#160;&#160;'*'</td></tr>
<tr class="separator:ab83d223016105c1e7a969b2d63c92060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6f762ee18bf3c867803ce32ac22b32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a7c6f762ee18bf3c867803ce32ac22b32">REMOTE_POS_ACK_BYTE_2</a>&#160;&#160;&#160;'%'</td></tr>
<tr class="separator:a7c6f762ee18bf3c867803ce32ac22b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fbdd2f8720c101a31dc392a7a30fbb8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a6fbdd2f8720c101a31dc392a7a30fbb8">SIGNATURE_LENGTH</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a6fbdd2f8720c101a31dc392a7a30fbb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14efd35fd046e16b528ffbd9b25f068"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#ad14efd35fd046e16b528ffbd9b25f068">PUB_KEY_LENGTH</a>&#160;&#160;&#160;65</td></tr>
<tr class="separator:ad14efd35fd046e16b528ffbd9b25f068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263a630d6199e59307b91bd81627bd4a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a263a630d6199e59307b91bd81627bd4a">SIGNATURE_PUB_KEY_BUF_LEN</a>&#160;&#160;&#160;(<a class="el" href="appRemoteStateMachine_8h.html#ad14efd35fd046e16b528ffbd9b25f068">PUB_KEY_LENGTH</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:a263a630d6199e59307b91bd81627bd4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7886c66a544decd78e955e9b29382b07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a7886c66a544decd78e955e9b29382b07">SIGNATURE_BUFFER_LENGTH</a>&#160;&#160;&#160;(<a class="el" href="appRemoteStateMachine_8h.html#a6fbdd2f8720c101a31dc392a7a30fbb8">SIGNATURE_LENGTH</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:a7886c66a544decd78e955e9b29382b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d8b3c6edb2a2192b18293d8e2cecc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#ab5d8b3c6edb2a2192b18293d8e2cecc8">REMOTE_DH_PUB_KEY_SIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:ab5d8b3c6edb2a2192b18293d8e2cecc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac18caf85df460c5f317791eabb80b3f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#aac18caf85df460c5f317791eabb80b3f">REMOTE_ENC_KEY_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:aac18caf85df460c5f317791eabb80b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7937562c725c91a46c4a6b04ff840d52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a7937562c725c91a46c4a6b04ff840d52">REMOTE_DH_PUB_KEY_BUF_LEN</a>&#160;&#160;&#160;(<a class="el" href="appRemoteStateMachine_8h.html#ab5d8b3c6edb2a2192b18293d8e2cecc8">REMOTE_DH_PUB_KEY_SIZE</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:a7937562c725c91a46c4a6b04ff840d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad223b24f55ba60ed0a997ba52d14c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a5ad223b24f55ba60ed0a997ba52d14c0">REMOTE_IV_BUFFER_LEN</a>&#160;&#160;&#160;(<a class="el" href="encryptServicesCfg_8h.html#a2cbbb0ae5520496288c627e894b98f4e">AES_BLOCK_SIZE_SUPPORTED_BY_HW</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:a5ad223b24f55ba60ed0a997ba52d14c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4536ab5c1b8a0ed8b9ac4aca70c01b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#aae4536ab5c1b8a0ed8b9ac4aca70c01b">REMOTE_CIPHER_TEXT_BUFFER_LEN</a>&#160;&#160;&#160;(1 + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:aae4536ab5c1b8a0ed8b9ac4aca70c01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab8fdb0529191bcbe4c98425e99f788f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#ab8fdb0529191bcbe4c98425e99f788f0">remote_application</a> (RawSerial &amp;remote, <a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;uartRxBuf)</td></tr>
<tr class="memdesc:ab8fdb0529191bcbe4c98425e99f788f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">API which contains statemachine logic for remote controller application.  <a href="appRemoteStateMachine_8h.html#ab8fdb0529191bcbe4c98425e99f788f0">More...</a><br /></td></tr>
<tr class="separator:ab8fdb0529191bcbe4c98425e99f788f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7235dfe3e58046717fc4d1b4196cb3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#afb7235dfe3e58046717fc4d1b4196cb3">remote_rxDataByte</a> (unsigned char *rxdData, unsigned int dataLength, <a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;uartRxBuf)</td></tr>
<tr class="memdesc:afb7235dfe3e58046717fc4d1b4196cb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to receive UART protocol one byte at a time, It parses required cryptographic messages like signature,keys etc from the protocol received. It uses SOF and EOP1, EOP2 identifiers present in the protocol for parsing.  <a href="appRemoteStateMachine_8h.html#afb7235dfe3e58046717fc4d1b4196cb3">More...</a><br /></td></tr>
<tr class="separator:afb7235dfe3e58046717fc4d1b4196cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3966f5506c86830ed99b3882ce35ffc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a3966f5506c86830ed99b3882ce35ffc4">remote_createtxPacket</a> (uint8_t *inputBuffer, char *outputBuffer, int length)</td></tr>
<tr class="memdesc:a3966f5506c86830ed99b3882ce35ffc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cryptographic data like signature, keys, cipher text etc. are translated into UART Protocol in the below format : &lt;SOF&gt;&lt;Data Byte 1&gt;&lt;Data Byte 2&gt;...&lt;EOP1&gt;&lt;EOP2&gt;  <a href="appRemoteStateMachine_8h.html#a3966f5506c86830ed99b3882ce35ffc4">More...</a><br /></td></tr>
<tr class="separator:a3966f5506c86830ed99b3882ce35ffc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e4a95aeeda1f0987dd8c37fb65d319"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a95e4a95aeeda1f0987dd8c37fb65d319">remote_sendDataByte</a> (char *buffer, uint8_t length, RawSerial &amp;remote)</td></tr>
<tr class="memdesc:a95e4a95aeeda1f0987dd8c37fb65d319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data byte by byte from the created UART protocol packet.  <a href="appRemoteStateMachine_8h.html#a95e4a95aeeda1f0987dd8c37fb65d319">More...</a><br /></td></tr>
<tr class="separator:a95e4a95aeeda1f0987dd8c37fb65d319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98fb1d5819da494efbbf1a5a14904d32"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a98fb1d5819da494efbbf1a5a14904d32">remote_checkAckRxd</a> (<a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;uartRxBuf)</td></tr>
<tr class="memdesc:a98fb1d5819da494efbbf1a5a14904d32"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to check if positive acknowledgment is sent by receiver. It checks if the receiver has received the message properly. The receiver sends a positive acknowledgment message &lt;$,*,*&gt;, the sender checks if messages are received properly. Each transaction happens byte by byte.  <a href="appRemoteStateMachine_8h.html#a98fb1d5819da494efbbf1a5a14904d32">More...</a><br /></td></tr>
<tr class="separator:a98fb1d5819da494efbbf1a5a14904d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f09894bfb979b62f392cd676c1f234"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#ae8f09894bfb979b62f392cd676c1f234">remote_sendAck</a> (RawSerial &amp;remote)</td></tr>
<tr class="memdesc:ae8f09894bfb979b62f392cd676c1f234"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to send positive acknowledgment &lt;$,*,*&gt; when messages are received correctly.  <a href="appRemoteStateMachine_8h.html#ae8f09894bfb979b62f392cd676c1f234">More...</a><br /></td></tr>
<tr class="separator:ae8f09894bfb979b62f392cd676c1f234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6daf7b9342e57b89325c71d269e4ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a3d6daf7b9342e57b89325c71d269e4ff">remote_generateSignAndPubKey</a> (char *signBuf, char *pubKeyBuf)</td></tr>
<tr class="memdesc:a3d6daf7b9342e57b89325c71d269e4ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates signature and public key for the remote. The generated signature and public key is packetized into UART protocol and returned.  <a href="appRemoteStateMachine_8h.html#a3d6daf7b9342e57b89325c71d269e4ff">More...</a><br /></td></tr>
<tr class="separator:a3d6daf7b9342e57b89325c71d269e4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff49f0656b5f6cc907bc912b29a9572"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a2ff49f0656b5f6cc907bc912b29a9572">remote_generateDhPubKey</a> (<a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;remoteDhCtx, uint8_t *remoteDhPubKey, char *DhPubKeyBuffer)</td></tr>
<tr class="memdesc:a2ff49f0656b5f6cc907bc912b29a9572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates Diffie Hellmann Context to generate Diffie Hellmann public key that has to be exchanged with the receiver.  <a href="appRemoteStateMachine_8h.html#a2ff49f0656b5f6cc907bc912b29a9572">More...</a><br /></td></tr>
<tr class="separator:a2ff49f0656b5f6cc907bc912b29a9572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0468de2d1c0963b8ad85f214806b3b77"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appRemoteStateMachine_8h.html#a0468de2d1c0963b8ad85f214806b3b77">remote_computeSharedSecretKey</a> (<a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;remoteDhCtx, uint8_t *remoteRxdCarDhPubKey, uint8_t *remoteSharedEncKey)</td></tr>
<tr class="memdesc:a0468de2d1c0963b8ad85f214806b3b77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the shared secret key using Diffie Hellmann Context and the the DH public key that is generated.  <a href="appRemoteStateMachine_8h.html#a0468de2d1c0963b8ad85f214806b3b77">More...</a><br /></td></tr>
<tr class="separator:a0468de2d1c0963b8ad85f214806b3b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4efee19584ef05b13cf8a4bb0fec1f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efee19584ef05b13cf8a4bb0fec1f64">&#9670;&nbsp;</a></span>PROT_ID_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROT_ID_LENGTH&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>First data byte of remote controller's positive acknowledgment frame </p>

</div>
</div>
<a id="ad14efd35fd046e16b528ffbd9b25f068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14efd35fd046e16b528ffbd9b25f068">&#9670;&nbsp;</a></span>PUB_KEY_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PUB_KEY_LENGTH&#160;&#160;&#160;65</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of Buffer in which Signature Public key is stored </p>

</div>
</div>
<a id="aae4536ab5c1b8a0ed8b9ac4aca70c01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4536ab5c1b8a0ed8b9ac4aca70c01b">&#9670;&nbsp;</a></span>REMOTE_CIPHER_TEXT_BUFFER_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_CIPHER_TEXT_BUFFER_LEN&#160;&#160;&#160;(1 + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7937562c725c91a46c4a6b04ff840d52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7937562c725c91a46c4a6b04ff840d52">&#9670;&nbsp;</a></span>REMOTE_DH_PUB_KEY_BUF_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_DH_PUB_KEY_BUF_LEN&#160;&#160;&#160;(<a class="el" href="appRemoteStateMachine_8h.html#ab5d8b3c6edb2a2192b18293d8e2cecc8">REMOTE_DH_PUB_KEY_SIZE</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab5d8b3c6edb2a2192b18293d8e2cecc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d8b3c6edb2a2192b18293d8e2cecc8">&#9670;&nbsp;</a></span>REMOTE_DH_PUB_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_DH_PUB_KEY_SIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Length of Diffie Hellman Public key Length of Diffie Hellman shared secret key used for encryption </p>

</div>
</div>
<a id="aac18caf85df460c5f317791eabb80b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac18caf85df460c5f317791eabb80b3f">&#9670;&nbsp;</a></span>REMOTE_ENC_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_ENC_KEY_SIZE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of Buffer in which Diffie Hellman Public key is stored </p>

</div>
</div>
<a id="a5ad223b24f55ba60ed0a997ba52d14c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ad223b24f55ba60ed0a997ba52d14c0">&#9670;&nbsp;</a></span>REMOTE_IV_BUFFER_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_IV_BUFFER_LEN&#160;&#160;&#160;(<a class="el" href="encryptServicesCfg_8h.html#a2cbbb0ae5520496288c627e894b98f4e">AES_BLOCK_SIZE_SUPPORTED_BY_HW</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Length of Buffer in which Initialization vector used for encryption is stored Length of Buffer in which length of encrypted text is stored </p>

</div>
</div>
<a id="ab83d223016105c1e7a969b2d63c92060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83d223016105c1e7a969b2d63c92060">&#9670;&nbsp;</a></span>REMOTE_POS_ACK_BYTE_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_POS_ACK_BYTE_1&#160;&#160;&#160;'*'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Second data byte of remote controller's positive acknowledgment frame </p>

</div>
</div>
<a id="a7c6f762ee18bf3c867803ce32ac22b32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6f762ee18bf3c867803ce32ac22b32">&#9670;&nbsp;</a></span>REMOTE_POS_ACK_BYTE_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_POS_ACK_BYTE_2&#160;&#160;&#160;'%'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a654ddd38d143b15c2b8a63d8dbe3c3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654ddd38d143b15c2b8a63d8dbe3c3cf">&#9670;&nbsp;</a></span>REMOTE_PROTOCOL_EOP1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_PROTOCOL_EOP1&#160;&#160;&#160;'@'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End of packet 2 for the UART Protocol </p>

</div>
</div>
<a id="a66e853230d004d51a411c2602bf20d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e853230d004d51a411c2602bf20d5a">&#9670;&nbsp;</a></span>REMOTE_PROTOCOL_EOP2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_PROTOCOL_EOP2&#160;&#160;&#160;'#'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of protocol excluding data packets </p>

</div>
</div>
<a id="a761ae82a3f899a71133e901297955c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a761ae82a3f899a71133e901297955c56">&#9670;&nbsp;</a></span>REMOTE_PROTOCOL_SOF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REMOTE_PROTOCOL_SOF&#160;&#160;&#160;'$'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Start of frame for the UART Protocol <br  />
 End of packet 1 for the UART Protocol </p>

</div>
</div>
<a id="a7886c66a544decd78e955e9b29382b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7886c66a544decd78e955e9b29382b07">&#9670;&nbsp;</a></span>SIGNATURE_BUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNATURE_BUFFER_LENGTH&#160;&#160;&#160;(<a class="el" href="appRemoteStateMachine_8h.html#a6fbdd2f8720c101a31dc392a7a30fbb8">SIGNATURE_LENGTH</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6fbdd2f8720c101a31dc392a7a30fbb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fbdd2f8720c101a31dc392a7a30fbb8">&#9670;&nbsp;</a></span>SIGNATURE_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNATURE_LENGTH&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Signature length of remote length of public key for generating signature </p>

</div>
</div>
<a id="a263a630d6199e59307b91bd81627bd4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263a630d6199e59307b91bd81627bd4a">&#9670;&nbsp;</a></span>SIGNATURE_PUB_KEY_BUF_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNATURE_PUB_KEY_BUF_LEN&#160;&#160;&#160;(<a class="el" href="appRemoteStateMachine_8h.html#ad14efd35fd046e16b528ffbd9b25f068">PUB_KEY_LENGTH</a> + <a class="el" href="appRemoteStateMachine_8h.html#a4efee19584ef05b13cf8a4bb0fec1f64">PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of Buffer in which signature of remote is stored </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab8fdb0529191bcbe4c98425e99f788f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8fdb0529191bcbe4c98425e99f788f0">&#9670;&nbsp;</a></span>remote_application()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remote_application </td>
          <td>(</td>
          <td class="paramtype">RawSerial &amp;&#160;</td>
          <td class="paramname"><em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>uartRxBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API which contains statemachine logic for remote controller application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remote</td><td>: UART port used by remote for tx/rx message </td></tr>
    <tr><td class="paramname">uartRxBuf</td><td>: UART Messages that are received are stored in this ringbuffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>- size of ringbuffer is 500 bytes<ul>
<li>Maximum Length of plain text that can be encrypted at once is 255.</li>
<li>Hardware crypto initialization must be done before initialization of application service manager(encryption,signature,DH) </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a98fb1d5819da494efbbf1a5a14904d32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98fb1d5819da494efbbf1a5a14904d32">&#9670;&nbsp;</a></span>remote_checkAckRxd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool remote_checkAckRxd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>uartRxBuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to check if positive acknowledgment is sent by receiver. It checks if the receiver has received the message properly. The receiver sends a positive acknowledgment message &lt;$,*,*&gt;, the sender checks if messages are received properly. Each transaction happens byte by byte. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uartRxBuf</td><td>: Ringbuffer in which UART data is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true : When Positive Acknowledgment is received (Received buffer contains &lt;$,*,*&gt;) false : When negative Acknowledgment is received</dd></dl>
<p>API to check if positive acknowledgment is sent by receiver. It checks if the receiver has received the message properly. The receiver sends a positive acknowledgment message &lt;$,*,*&gt;, the sender checks if messages are received properly. Each transaction happens byte by byte.</p>
<dl class="section note"><dt>Note</dt><dd>Each transaction happens byte by byte.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uartRxBuf</td><td>: Ringbuffer in which UART data is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true : When Positive Acknowledgment is received (Received buffer contains &lt;$,*,*&gt;) false : When negative Acknowledgment is received </dd></dl>

</div>
</div>
<a id="a0468de2d1c0963b8ad85f214806b3b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0468de2d1c0963b8ad85f214806b3b77">&#9670;&nbsp;</a></span>remote_computeSharedSecretKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool remote_computeSharedSecretKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;&#160;</td>
          <td class="paramname"><em>remoteDhCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>remoteRxdCarDhPubKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>remoteSharedEncKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the shared secret key using Diffie Hellmann Context and the the DH public key that is generated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remoteDhCtx</td><td>: Diffie Hellmann Context </td></tr>
    <tr><td class="paramname">remoteRxdCarDhPubKey</td><td>: Generated Diffie Hellmann public key </td></tr>
    <tr><td class="paramname">remoteSharedEncKey</td><td>[o] : DH Secret Key that is computed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: true : If shared secret key is computed successfully. : false : If computation of shared secret key fails. </dd></dl>

</div>
</div>
<a id="a3966f5506c86830ed99b3882ce35ffc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3966f5506c86830ed99b3882ce35ffc4">&#9670;&nbsp;</a></span>remote_createtxPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remote_createtxPacket </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>inputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>outputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The cryptographic data like signature, keys, cipher text etc. are translated into UART Protocol in the below format : &lt;SOF&gt;&lt;Data Byte 1&gt;&lt;Data Byte 2&gt;...&lt;EOP1&gt;&lt;EOP2&gt; </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputBuffer</td><td>: Input Buffer containing the protocol </td></tr>
    <tr><td class="paramname">outputBuffer[o]</td><td>: Output buffer that has to be transmitted </td></tr>
    <tr><td class="paramname">length</td><td>: Length of protocol </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2ff49f0656b5f6cc907bc912b29a9572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff49f0656b5f6cc907bc912b29a9572">&#9670;&nbsp;</a></span>remote_generateDhPubKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remote_generateDhPubKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;&#160;</td>
          <td class="paramname"><em>remoteDhCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>remoteDhPubKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DhPubKeyBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates Diffie Hellmann Context to generate Diffie Hellmann public key that has to be exchanged with the receiver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remoteDhCtx</td><td>: Diffie Hellmann Context </td></tr>
    <tr><td class="paramname">remoteDhPubKey[o]</td><td>: Generated Diffie Hellmann public key </td></tr>
    <tr><td class="paramname">DhPubKeyBuffer[o]</td><td>: Buffer containing UART protocol of DH public key to be transmitted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d6daf7b9342e57b89325c71d269e4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d6daf7b9342e57b89325c71d269e4ff">&#9670;&nbsp;</a></span>remote_generateSignAndPubKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remote_generateSignAndPubKey </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>signBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pubKeyBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates signature and public key for the remote. The generated signature and public key is packetized into UART protocol and returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signBuf</td><td>[o]: returns buffer containing signature </td></tr>
    <tr><td class="paramname">pubKeyBuf[o]</td><td>: returns Buffer containing Public key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb7235dfe3e58046717fc4d1b4196cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7235dfe3e58046717fc4d1b4196cb3">&#9670;&nbsp;</a></span>remote_rxDataByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool remote_rxDataByte </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>rxdData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>uartRxBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to receive UART protocol one byte at a time, It parses required cryptographic messages like signature,keys etc from the protocol received. It uses SOF and EOP1, EOP2 identifiers present in the protocol for parsing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rxdData</td><td>: Data Byte received from Ringbuffer </td></tr>
    <tr><td class="paramname">dataLength</td><td>: Length of protocol that has to be parsed from the received UART data. </td></tr>
    <tr><td class="paramname">uartRxBuf</td><td>: Ringbuffer in which UART data is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>size of ringbuffer is 500 bytes</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true : When End of Packet 2 is received i.e. on indication of end of message false : Untill End of packet 2 is received. </dd></dl>

</div>
</div>
<a id="ae8f09894bfb979b62f392cd676c1f234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f09894bfb979b62f392cd676c1f234">&#9670;&nbsp;</a></span>remote_sendAck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remote_sendAck </td>
          <td>(</td>
          <td class="paramtype">RawSerial &amp;&#160;</td>
          <td class="paramname"><em>remote</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to send positive acknowledgment &lt;$,*,*&gt; when messages are received correctly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remote</td><td>: UART port used by remote for tx message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95e4a95aeeda1f0987dd8c37fb65d319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e4a95aeeda1f0987dd8c37fb65d319">&#9670;&nbsp;</a></span>remote_sendDataByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool remote_sendDataByte </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RawSerial &amp;&#160;</td>
          <td class="paramname"><em>remote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data byte by byte from the created UART protocol packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>: Buffer that has to be transmitted via UART </td></tr>
    <tr><td class="paramname">length</td><td>: Length of buffer that has to be transmitted </td></tr>
    <tr><td class="paramname">remote</td><td>: UART port used by remote for tx message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true : When entire buffer is sent via UART false : Untill entire buffer is sent via UART </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: asw/appCarStateMachine.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7f414431442d3d5b66e375f06bbda95e.html">asw</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">appCarStateMachine.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;mbed.h&quot;</code><br />
<code>#include &quot;<a class="el" href="CRingBuffer_8h_source.html">CRingBuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="encryptMgr_8h_source.html">encryptMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="signMgr_8h_source.html">signMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="signVerifyMgr_8h_source.html">signVerifyMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dhKeyExchangeMgr_8h_source.html">dhKeyExchangeMgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="encryptMgrTest_8h_source.html">encryptMgrTest.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="decryptMgrTest_8h_source.html">decryptMgrTest.h</a>&quot;</code><br />
</div>
<p><a href="appCarStateMachine_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4c3de31a0e5a7d87c0aa6edd8e91d686"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a4c3de31a0e5a7d87c0aa6edd8e91d686">CAR_PROTOCOL_SOF</a>&#160;&#160;&#160;'$'</td></tr>
<tr class="separator:a4c3de31a0e5a7d87c0aa6edd8e91d686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122573df0b0ad3f3fd544b4bc2c80be1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a122573df0b0ad3f3fd544b4bc2c80be1">CAR_PROTOCOL_EOP1</a>&#160;&#160;&#160;'@'</td></tr>
<tr class="separator:a122573df0b0ad3f3fd544b4bc2c80be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c5bf34401976d8329fdaaddc6d04f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a67c5bf34401976d8329fdaaddc6d04f1">CAR_PROTOCOL_EOP2</a>&#160;&#160;&#160;'#'</td></tr>
<tr class="separator:a67c5bf34401976d8329fdaaddc6d04f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51816783b413e214477deb01c84c9f42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a51816783b413e214477deb01c84c9f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1699841c6edc151f45036b70fd98d308"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a1699841c6edc151f45036b70fd98d308">CAR_POS_ACK_BYTE_1</a>&#160;&#160;&#160;'*'</td></tr>
<tr class="separator:a1699841c6edc151f45036b70fd98d308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92083c911cb9edf147c127eef57f5adb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a92083c911cb9edf147c127eef57f5adb">CAR_POS_ACK_BYTE_2</a>&#160;&#160;&#160;'%'</td></tr>
<tr class="separator:a92083c911cb9edf147c127eef57f5adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a26c4496946c6599d7cab1aa604ed22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a3a26c4496946c6599d7cab1aa604ed22">CAR_SIGNATURE_LENGTH</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a3a26c4496946c6599d7cab1aa604ed22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade40abf8c5a6d5d5b65dc29c63c1b473"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#ade40abf8c5a6d5d5b65dc29c63c1b473">CAR_PUB_KEY_LENGTH</a>&#160;&#160;&#160;65</td></tr>
<tr class="separator:ade40abf8c5a6d5d5b65dc29c63c1b473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ffa0b48e1104132e67c5024f01fac4b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a6ffa0b48e1104132e67c5024f01fac4b">CAR_SIGNATURE_PUB_KEY_BUF_LEN</a>&#160;&#160;&#160;(<a class="el" href="appCarStateMachine_8h.html#ade40abf8c5a6d5d5b65dc29c63c1b473">CAR_PUB_KEY_LENGTH</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:a6ffa0b48e1104132e67c5024f01fac4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ce991bcffb268c3665247979ce4ec6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#ab2ce991bcffb268c3665247979ce4ec6">CAR_SIGNATURE_BUFFER_LENGTH</a>&#160;&#160;&#160;(<a class="el" href="appCarStateMachine_8h.html#a3a26c4496946c6599d7cab1aa604ed22">CAR_SIGNATURE_LENGTH</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:ab2ce991bcffb268c3665247979ce4ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fbcc286ddd098e43d0f3408afdb160"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a61fbcc286ddd098e43d0f3408afdb160">CAR_DH_PUB_KEY_SIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a61fbcc286ddd098e43d0f3408afdb160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cedc3aef5c160b99870c5235d6cb3ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a4cedc3aef5c160b99870c5235d6cb3ca">CAR_ENC_KEY_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a4cedc3aef5c160b99870c5235d6cb3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf2f0b2b243f5ba0f36cc700d77a402"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#aedf2f0b2b243f5ba0f36cc700d77a402">CAR_DH_PUB_KEY_BUF_LEN</a>&#160;&#160;&#160;(<a class="el" href="appCarStateMachine_8h.html#a61fbcc286ddd098e43d0f3408afdb160">CAR_DH_PUB_KEY_SIZE</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:aedf2f0b2b243f5ba0f36cc700d77a402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada60cfda106d007714168829d3b8fd94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#ada60cfda106d007714168829d3b8fd94">CAR_IV_BUFFER_LEN</a>&#160;&#160;&#160;(<a class="el" href="encryptServicesCfg_8h.html#a2cbbb0ae5520496288c627e894b98f4e">AES_BLOCK_SIZE_SUPPORTED_BY_HW</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:ada60cfda106d007714168829d3b8fd94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9de95fd1dffb4ced8fa2179d8d0406"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a2d9de95fd1dffb4ced8fa2179d8d0406">CAR_CIPHER_TEXT_BUFFER_LEN</a>&#160;&#160;&#160;(1 + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td></tr>
<tr class="separator:a2d9de95fd1dffb4ced8fa2179d8d0406"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3f2bb688ec89d6ddbfc8510e343679e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#ab3f2bb688ec89d6ddbfc8510e343679e">car_application</a> (RawSerial &amp;car, <a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;uartRxBuf)</td></tr>
<tr class="memdesc:ab3f2bb688ec89d6ddbfc8510e343679e"><td class="mdescLeft">&#160;</td><td class="mdescRight">API which contains statemachine logic for car application.  <a href="appCarStateMachine_8h.html#ab3f2bb688ec89d6ddbfc8510e343679e">More...</a><br /></td></tr>
<tr class="separator:ab3f2bb688ec89d6ddbfc8510e343679e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b83573c102a62df5aa9f9e7990d26a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a46b83573c102a62df5aa9f9e7990d26a">car_rxData</a> (unsigned char *myData, unsigned int dataLength, <a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;uartRxBuf)</td></tr>
<tr class="memdesc:a46b83573c102a62df5aa9f9e7990d26a"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to receive UART protocol one byte at a time, It parses required cryptographic messages like signature,keys etc from the protocol received. It uses SOF and EOP1, EOP2 identifiers present in the protocol for parsing.  <a href="appCarStateMachine_8h.html#a46b83573c102a62df5aa9f9e7990d26a">More...</a><br /></td></tr>
<tr class="separator:a46b83573c102a62df5aa9f9e7990d26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb4b2883c1747d001bb9bd4a527ac4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#abeb4b2883c1747d001bb9bd4a527ac4b">car_createtxPacket</a> (uint8_t *inputBuffer, char *outputBuffer, int length)</td></tr>
<tr class="memdesc:abeb4b2883c1747d001bb9bd4a527ac4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cryptographic data like signature, keys, cipher text etc. are translated into UART Protocol in the below format : &lt;SOF&gt;&lt;Data Byte 1&gt;&lt;Data Byte 2&gt;...&lt;EOP1&gt;&lt;EOP2&gt;  <a href="appCarStateMachine_8h.html#abeb4b2883c1747d001bb9bd4a527ac4b">More...</a><br /></td></tr>
<tr class="separator:abeb4b2883c1747d001bb9bd4a527ac4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5037736b173a5e74e964aed7826320"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a7d5037736b173a5e74e964aed7826320">car_SendDataByte</a> (char *buffer, uint8_t length, RawSerial &amp;car)</td></tr>
<tr class="memdesc:a7d5037736b173a5e74e964aed7826320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data byte by byte from the created UART protocol packet.  <a href="appCarStateMachine_8h.html#a7d5037736b173a5e74e964aed7826320">More...</a><br /></td></tr>
<tr class="separator:a7d5037736b173a5e74e964aed7826320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa705047fa05579152cb6c1c6af334b83"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#aa705047fa05579152cb6c1c6af334b83">car_CheckAckRxd</a> (<a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;uartRxBuf)</td></tr>
<tr class="memdesc:aa705047fa05579152cb6c1c6af334b83"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to check if positive acknowledgment is sent by receiver. It checks if the receiver has received the message properly. The receiver sends a positive acknowledgment message &lt;$,*,*&gt; if messages are received properly.  <a href="appCarStateMachine_8h.html#aa705047fa05579152cb6c1c6af334b83">More...</a><br /></td></tr>
<tr class="separator:aa705047fa05579152cb6c1c6af334b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77919ee8e78a4898c660d163f5344c2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a77919ee8e78a4898c660d163f5344c2d">car_SendAck</a> (RawSerial &amp;car)</td></tr>
<tr class="memdesc:a77919ee8e78a4898c660d163f5344c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to send positive acknowledgment &lt;$,*,*&gt; when messages are received correctly.  <a href="appCarStateMachine_8h.html#a77919ee8e78a4898c660d163f5344c2d">More...</a><br /></td></tr>
<tr class="separator:a77919ee8e78a4898c660d163f5344c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c1b152514b03e07d5b091df9e8ec3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#ae2c1b152514b03e07d5b091df9e8ec3b">car_generateSignAndPubKey</a> (char *signBuf, char *pubKeyBuf)</td></tr>
<tr class="memdesc:ae2c1b152514b03e07d5b091df9e8ec3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates signature and public key for the car. The generated signature and public key is packetized into UART protocol and returned.  <a href="appCarStateMachine_8h.html#ae2c1b152514b03e07d5b091df9e8ec3b">More...</a><br /></td></tr>
<tr class="separator:ae2c1b152514b03e07d5b091df9e8ec3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fbe93734dbb22eed3938d086d14a831"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a8fbe93734dbb22eed3938d086d14a831">car_GenerateDhPubKey</a> (<a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;carDhCtx, uint8_t *carDhPubKey, char *DhPubKeyBuffer)</td></tr>
<tr class="memdesc:a8fbe93734dbb22eed3938d086d14a831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates Diffie Hellmann Context to generate Diffie Hellmann public key that has to be exchanged with the receiver.  <a href="appCarStateMachine_8h.html#a8fbe93734dbb22eed3938d086d14a831">More...</a><br /></td></tr>
<tr class="separator:a8fbe93734dbb22eed3938d086d14a831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8160c4925d0244a6d703f77cee6e8518"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appCarStateMachine_8h.html#a8160c4925d0244a6d703f77cee6e8518">car_computeSharedSecretKey</a> (<a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;carDhCtx, uint8_t *carRxdRemoteDhPubKey, uint8_t *carSharedEncKey)</td></tr>
<tr class="memdesc:a8160c4925d0244a6d703f77cee6e8518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the shared secret key using Diffie Hellmann Context and the the DH public key that is generated.  <a href="appCarStateMachine_8h.html#a8160c4925d0244a6d703f77cee6e8518">More...</a><br /></td></tr>
<tr class="separator:a8160c4925d0244a6d703f77cee6e8518"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2d9de95fd1dffb4ced8fa2179d8d0406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9de95fd1dffb4ced8fa2179d8d0406">&#9670;&nbsp;</a></span>CAR_CIPHER_TEXT_BUFFER_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_CIPHER_TEXT_BUFFER_LEN&#160;&#160;&#160;(1 + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aedf2f0b2b243f5ba0f36cc700d77a402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf2f0b2b243f5ba0f36cc700d77a402">&#9670;&nbsp;</a></span>CAR_DH_PUB_KEY_BUF_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_DH_PUB_KEY_BUF_LEN&#160;&#160;&#160;(<a class="el" href="appCarStateMachine_8h.html#a61fbcc286ddd098e43d0f3408afdb160">CAR_DH_PUB_KEY_SIZE</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a61fbcc286ddd098e43d0f3408afdb160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61fbcc286ddd098e43d0f3408afdb160">&#9670;&nbsp;</a></span>CAR_DH_PUB_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_DH_PUB_KEY_SIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Length of Diffie Hellman Public key Length of Diffie Hellman shared secret key used for encryption </p>

</div>
</div>
<a id="a4cedc3aef5c160b99870c5235d6cb3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cedc3aef5c160b99870c5235d6cb3ca">&#9670;&nbsp;</a></span>CAR_ENC_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_ENC_KEY_SIZE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of Buffer in which Diffie Hellman Public key is stored </p>

</div>
</div>
<a id="ada60cfda106d007714168829d3b8fd94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada60cfda106d007714168829d3b8fd94">&#9670;&nbsp;</a></span>CAR_IV_BUFFER_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_IV_BUFFER_LEN&#160;&#160;&#160;(<a class="el" href="encryptServicesCfg_8h.html#a2cbbb0ae5520496288c627e894b98f4e">AES_BLOCK_SIZE_SUPPORTED_BY_HW</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Length of Buffer in which Initialization vector used for encryption is stored Length of Buffer in which length of encrypted text is stored </p>

</div>
</div>
<a id="a1699841c6edc151f45036b70fd98d308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1699841c6edc151f45036b70fd98d308">&#9670;&nbsp;</a></span>CAR_POS_ACK_BYTE_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_POS_ACK_BYTE_1&#160;&#160;&#160;'*'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Second data byte of car's positive acknowledgment frame </p>

</div>
</div>
<a id="a92083c911cb9edf147c127eef57f5adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92083c911cb9edf147c127eef57f5adb">&#9670;&nbsp;</a></span>CAR_POS_ACK_BYTE_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_POS_ACK_BYTE_2&#160;&#160;&#160;'%'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a51816783b413e214477deb01c84c9f42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51816783b413e214477deb01c84c9f42">&#9670;&nbsp;</a></span>CAR_PROT_ID_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_PROT_ID_LENGTH&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>First data byte of car's positive acknowledgment frame </p>

</div>
</div>
<a id="a122573df0b0ad3f3fd544b4bc2c80be1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122573df0b0ad3f3fd544b4bc2c80be1">&#9670;&nbsp;</a></span>CAR_PROTOCOL_EOP1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_PROTOCOL_EOP1&#160;&#160;&#160;'@'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End of packet 2 for the UART Protocol </p>

</div>
</div>
<a id="a67c5bf34401976d8329fdaaddc6d04f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c5bf34401976d8329fdaaddc6d04f1">&#9670;&nbsp;</a></span>CAR_PROTOCOL_EOP2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_PROTOCOL_EOP2&#160;&#160;&#160;'#'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of protocol excluding data packets </p>

</div>
</div>
<a id="a4c3de31a0e5a7d87c0aa6edd8e91d686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c3de31a0e5a7d87c0aa6edd8e91d686">&#9670;&nbsp;</a></span>CAR_PROTOCOL_SOF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_PROTOCOL_SOF&#160;&#160;&#160;'$'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Start of frame for the UART Protocol <br  />
 End of packet 1 for the UART Protocol </p>

</div>
</div>
<a id="ade40abf8c5a6d5d5b65dc29c63c1b473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade40abf8c5a6d5d5b65dc29c63c1b473">&#9670;&nbsp;</a></span>CAR_PUB_KEY_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_PUB_KEY_LENGTH&#160;&#160;&#160;65</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of Buffer in which Signature Public key is stored </p>

</div>
</div>
<a id="ab2ce991bcffb268c3665247979ce4ec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ce991bcffb268c3665247979ce4ec6">&#9670;&nbsp;</a></span>CAR_SIGNATURE_BUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_SIGNATURE_BUFFER_LENGTH&#160;&#160;&#160;(<a class="el" href="appCarStateMachine_8h.html#a3a26c4496946c6599d7cab1aa604ed22">CAR_SIGNATURE_LENGTH</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3a26c4496946c6599d7cab1aa604ed22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a26c4496946c6599d7cab1aa604ed22">&#9670;&nbsp;</a></span>CAR_SIGNATURE_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_SIGNATURE_LENGTH&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Signature length of car length of public key for generating signature </p>

</div>
</div>
<a id="a6ffa0b48e1104132e67c5024f01fac4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ffa0b48e1104132e67c5024f01fac4b">&#9670;&nbsp;</a></span>CAR_SIGNATURE_PUB_KEY_BUF_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAR_SIGNATURE_PUB_KEY_BUF_LEN&#160;&#160;&#160;(<a class="el" href="appCarStateMachine_8h.html#ade40abf8c5a6d5d5b65dc29c63c1b473">CAR_PUB_KEY_LENGTH</a> + <a class="el" href="appCarStateMachine_8h.html#a51816783b413e214477deb01c84c9f42">CAR_PROT_ID_LENGTH</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of Buffer in which signature of car is stored </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab3f2bb688ec89d6ddbfc8510e343679e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f2bb688ec89d6ddbfc8510e343679e">&#9670;&nbsp;</a></span>car_application()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void car_application </td>
          <td>(</td>
          <td class="paramtype">RawSerial &amp;&#160;</td>
          <td class="paramname"><em>car</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>uartRxBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API which contains statemachine logic for car application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">car</td><td>: UART port used by car for tx/rx message </td></tr>
    <tr><td class="paramname">uartRxBuf</td><td>: UART Messages that are received are stored in this ringbuffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>size of ringbuffer is 500 bytes </dd></dl>

</div>
</div>
<a id="aa705047fa05579152cb6c1c6af334b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa705047fa05579152cb6c1c6af334b83">&#9670;&nbsp;</a></span>car_CheckAckRxd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool car_CheckAckRxd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>uartRxBuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to check if positive acknowledgment is sent by receiver. It checks if the receiver has received the message properly. The receiver sends a positive acknowledgment message &lt;$,*,*&gt; if messages are received properly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uartRxBuf</td><td>: Ringbuffer in which UART data is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true : When Positive Acknowledgment is received (Received buffer contains &lt;$,*,*&gt;) false : When negative Acknowledgment is received </dd></dl>

</div>
</div>
<a id="a8160c4925d0244a6d703f77cee6e8518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8160c4925d0244a6d703f77cee6e8518">&#9670;&nbsp;</a></span>car_computeSharedSecretKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void car_computeSharedSecretKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;&#160;</td>
          <td class="paramname"><em>carDhCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>carRxdRemoteDhPubKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>carSharedEncKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the shared secret key using Diffie Hellmann Context and the the DH public key that is generated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">carDhCtx</td><td>: Diffie Hellmann Context </td></tr>
    <tr><td class="paramname">carRxdRemoteDhPubKey</td><td>: Generated Diffie Hellmann public key </td></tr>
    <tr><td class="paramname">carSharedEncKey</td><td>[o] : DH Secret Key that is computed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: true : If shared secret key is computed successfully. : false : If computation of shared secret key fails. </dd></dl>

</div>
</div>
<a id="abeb4b2883c1747d001bb9bd4a527ac4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb4b2883c1747d001bb9bd4a527ac4b">&#9670;&nbsp;</a></span>car_createtxPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void car_createtxPacket </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>inputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>outputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The cryptographic data like signature, keys, cipher text etc. are translated into UART Protocol in the below format : &lt;SOF&gt;&lt;Data Byte 1&gt;&lt;Data Byte 2&gt;...&lt;EOP1&gt;&lt;EOP2&gt; </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputBuffer</td><td>: Input Buffer containing the protocol </td></tr>
    <tr><td class="paramname">outputBuffer[o]</td><td>: Output buffer that has to be transmitted </td></tr>
    <tr><td class="paramname">length</td><td>: Length of protocol </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8fbe93734dbb22eed3938d086d14a831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fbe93734dbb22eed3938d086d14a831">&#9670;&nbsp;</a></span>car_GenerateDhPubKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void car_GenerateDhPubKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdhKeyExchangeMgr.html">dhKeyExchangeMgr</a> &amp;&#160;</td>
          <td class="paramname"><em>carDhCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>carDhPubKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DhPubKeyBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates Diffie Hellmann Context to generate Diffie Hellmann public key that has to be exchanged with the receiver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">carDhCtx</td><td>: Diffie Hellmann Context </td></tr>
    <tr><td class="paramname">carDhPubKey[o]</td><td>: Generated Diffie Hellmann public key </td></tr>
    <tr><td class="paramname">DhPubKeyBuffer[o]</td><td>Buffer containing UART protocol of DH public key to be transmitted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2c1b152514b03e07d5b091df9e8ec3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c1b152514b03e07d5b091df9e8ec3b">&#9670;&nbsp;</a></span>car_generateSignAndPubKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void car_generateSignAndPubKey </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>signBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pubKeyBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates signature and public key for the car. The generated signature and public key is packetized into UART protocol and returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signBuf</td><td>[o]: returns buffer containing signature </td></tr>
    <tr><td class="paramname">pubKeyBuf[o]</td><td>: returns Buffer containing Public key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46b83573c102a62df5aa9f9e7990d26a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b83573c102a62df5aa9f9e7990d26a">&#9670;&nbsp;</a></span>car_rxData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool car_rxData </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>myData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCRingBuffer.html">CRingBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>uartRxBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to receive UART protocol one byte at a time, It parses required cryptographic messages like signature,keys etc from the protocol received. It uses SOF and EOP1, EOP2 identifiers present in the protocol for parsing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rxdData</td><td>: Data Byte received from Ringbuffer </td></tr>
    <tr><td class="paramname">dataLength</td><td>: Length of protocol that has to be parsed from the received UART data. </td></tr>
    <tr><td class="paramname">uartRxBuf</td><td>: Ringbuffer in which UART data is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>size of ringbuffer is 500 bytes</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true : When End of Packet 2 is received i.e. on indication of end of message false : Untill End of packet 2 is received. </dd></dl>

</div>
</div>
<a id="a77919ee8e78a4898c660d163f5344c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77919ee8e78a4898c660d163f5344c2d">&#9670;&nbsp;</a></span>car_SendAck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void car_SendAck </td>
          <td>(</td>
          <td class="paramtype">RawSerial &amp;&#160;</td>
          <td class="paramname"><em>car</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to send positive acknowledgment &lt;$,*,*&gt; when messages are received correctly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">car</td><td>: UART port used by car for tx message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7d5037736b173a5e74e964aed7826320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5037736b173a5e74e964aed7826320">&#9670;&nbsp;</a></span>car_SendDataByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool car_SendDataByte </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RawSerial &amp;&#160;</td>
          <td class="paramname"><em>car</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data byte by byte from the created UART protocol packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>: Buffer that has to be transmitted via UART </td></tr>
    <tr><td class="paramname">length</td><td>: Length of buffer that has to be transmitted </td></tr>
    <tr><td class="paramname">car</td><td>: UART port used by car for tx message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true : When entire buffer is sent via UART false : Untill entire buffer is sent via UART </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
